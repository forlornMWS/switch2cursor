<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html --><!DOCTYPE idea-plugin [
    <!ELEMENT idea-plugin (id|name|vendor|description|depends|extensions|actions|change-notes)*>
    <!ELEMENT id (#PCDATA)>
    <!ELEMENT name (#PCDATA)>
    <!ELEMENT vendor (#PCDATA)>
    <!ATTLIST vendor
        email CDATA #REQUIRED
        url CDATA #REQUIRED>
    <!ELEMENT description (#PCDATA)>
    <!ELEMENT depends (#PCDATA)>
    <!ELEMENT extensions (applicationService|applicationConfigurable)*>
    <!ATTLIST extensions
        defaultExtensionNs CDATA #REQUIRED>
    <!ELEMENT applicationService (#PCDATA)>
    <!ATTLIST applicationService
        serviceImplementation CDATA #REQUIRED>
    <!ELEMENT applicationConfigurable (#PCDATA)>
    <!ATTLIST applicationConfigurable
        parentId CDATA #REQUIRED
        instance CDATA #REQUIRED
        id CDATA #REQUIRED
        displayName CDATA #REQUIRED>
    <!ELEMENT actions (action)*>
    <!ELEMENT action (add-to-group|keyboard-shortcut)*>
    <!ATTLIST action
        id CDATA #REQUIRED
        class CDATA #REQUIRED
        text CDATA #REQUIRED
        description CDATA #REQUIRED>
    <!ELEMENT add-to-group (#PCDATA)>
    <!ATTLIST add-to-group
        anchor CDATA #REQUIRED
        group-id CDATA #REQUIRED>
    <!ELEMENT keyboard-shortcut (#PCDATA)>
    <!ATTLIST keyboard-shortcut
        keymap CDATA #REQUIRED
        first-keystroke CDATA #REQUIRED>
    <!ELEMENT change-notes (#PCDATA)>
    ]>
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.github.qczone.switch2cursor</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Switch2Cursor</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="quchaozhong@gmail.com" url="https://github.com/qczone">qczone</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <p>Switch2Cursor is a JetBrains IDE plugin that enables seamless switching between IDE and multiple external editors while maintaining precise cursor position.</p>

    <h2>Key Features</h2>
    <ul>
        <li>Support multiple editors: Cursor, VSCode, Trae, Trae CN, and custom applications</li>
        <li>Open files with exact cursor position (line and column)</li>
        <li>Support opening entire projects</li>
        <li>Fully configurable shortcut system with custom key combinations</li>
        <li>Easy configuration through settings UI</li>
        <li>Multiple access methods: shortcuts, context menu, tools menu</li>
    </ul>

    <h2>Supported Applications</h2>
    <ul>
        <li>Cursor (default: Alt+Shift+F1 / Alt+Shift+Ctrl+F1)</li>
        <li>VSCode (default: Alt+Shift+F2 / Alt+Shift+Ctrl+F2)</li>
        <li>Trae (default: Alt+Shift+F3 / Alt+Shift+Ctrl+F3)</li>
        <li>Trae CN (default: Alt+Shift+F4 / Alt+Shift+Ctrl+F4)</li>
        <li>Any custom applications you add</li>
        <li>All shortcuts are fully configurable</li>
    </ul>

    <h2>Usage</h2>
    <ul>
        <li>Use configured shortcuts for each application</li>
        <li>Right-click in editor or project view for context menu</li>
        <li>Access via Tools menu â†’ Switch2Cursor</li>
        <li>Configure shortcuts in Settings â†’ Tools â†’ Switch2Cursor</li>
    </ul>

    <h2>Configuration</h2>
    <ul>
        <li>Go to Settings/Preferences â†’ Tools â†’ Switch2Cursor</li>
        <li>Configure executable paths for each application</li>
        <li>Add custom applications with command templates</li>
        <li>Enable/disable applications individually</li>
        <li>Customize shortcuts in Keymap settings</li>
    </ul>

    <h2>Requirements</h2>
    <ul>
        <li>Compatible with all JetBrains IDEs</li>
        <li>Supported IDE versions: 2022.3 and above</li>
        <li>Target applications should be installed separately</li>
    </ul>

    <hr/>

    <p>Switch2Cursor æ˜¯ä¸€ä¸ª JetBrains IDE æ’ä»¶ï¼Œå¯ä»¥è®©ä½ åœ¨ IDE å’Œå¤šä¸ªå¤–éƒ¨ç¼–è¾‘å™¨ä¹‹é—´æ— ç¼åˆ‡æ¢ï¼Œå¹¶ä¿æŒç²¾ç¡®çš„å…‰æ ‡ä½ç½®ã€‚</p>

    <h2>ä¸»è¦ç‰¹æ€§</h2>
    <ul>
        <li>æ”¯æŒå¤šä¸ªç¼–è¾‘å™¨ï¼šCursorã€VSCodeã€Traeã€Trae CN ä»¥åŠè‡ªå®šä¹‰åº”ç”¨</li>
        <li>ç²¾ç¡®ä¿æŒå…‰æ ‡ä½ç½®ï¼ˆè¡Œå·å’Œåˆ—å·ï¼‰</li>
        <li>æ”¯æŒæ‰“å¼€æ•´ä¸ªé¡¹ç›®</li>
        <li>å¯å®Œå…¨é…ç½®çš„å¿«æ·é”®ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®ç»„åˆ</li>
        <li>é€šè¿‡è®¾ç½®ç•Œé¢è½»æ¾é…ç½®</li>
        <li>å¤šç§è®¿é—®æ–¹å¼ï¼šå¿«æ·é”®ã€å³é”®èœå•ã€å·¥å…·èœå•</li>
    </ul>

    <h2>æ”¯æŒçš„åº”ç”¨</h2>
    <ul>
        <li>Cursor (é»˜è®¤: Alt+Shift+F1 / Alt+Shift+Ctrl+F1)</li>
        <li>VSCode (é»˜è®¤: Alt+Shift+F2 / Alt+Shift+Ctrl+F2)</li>
        <li>Trae (é»˜è®¤: Alt+Shift+F3 / Alt+Shift+Ctrl+F3)</li>
        <li>Trae CN (é»˜è®¤: Alt+Shift+F4 / Alt+Shift+Ctrl+F4)</li>
        <li>ä»»ä½•æ‚¨æ·»åŠ çš„è‡ªå®šä¹‰åº”ç”¨</li>
        <li>æ‰€æœ‰å¿«æ·é”®å‡å¯å®Œå…¨é…ç½®</li>
    </ul>

    <h2>ä½¿ç”¨æ–¹æ³•</h2>
    <ul>
        <li>ä½¿ç”¨ä¸ºæ¯ä¸ªåº”ç”¨é…ç½®çš„å¿«æ·é”®</li>
        <li>åœ¨ç¼–è¾‘å™¨æˆ–é¡¹ç›®è§†å›¾ä¸­å³é”®è®¿é—®ä¸Šä¸‹æ–‡èœå•</li>
        <li>é€šè¿‡å·¥å…·èœå• â†’ Switch2Cursor è®¿é—®</li>
        <li>åœ¨è®¾ç½® â†’ å·¥å…· â†’ Switch2Cursor ä¸­é…ç½®å¿«æ·é”®</li>
    </ul>

    <h2>é…ç½®è¯´æ˜</h2>
    <ul>
        <li>è¿›å…¥ Settings/Preferences â†’ Tools â†’ Switch2Cursor</li>
        <li>ä¸ºæ¯ä¸ªåº”ç”¨é…ç½®å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</li>
        <li>ä½¿ç”¨å‘½ä»¤æ¨¡æ¿æ·»åŠ è‡ªå®šä¹‰åº”ç”¨</li>
        <li>å•ç‹¬å¯ç”¨/ç¦ç”¨åº”ç”¨</li>
        <li>é€šè¿‡ Keymap è®¾ç½®è‡ªå®šä¹‰å¿«æ·é”®</li>
    </ul>

    <h2>ç³»ç»Ÿè¦æ±‚</h2>
    <ul>
        <li>å·²å®‰è£… Cursor Editor (<a href="https://cursor.sh">https://cursor.sh</a>)</li>
        <li>å…¼å®¹æ‰€æœ‰ JetBrains IDE</li>
        <li>æ”¯æŒçš„ IDE ç‰ˆæœ¬ï¼š2022.3 åŠä»¥ä¸Š</li>
    </ul>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.github.qczone.switch2cursor.settings.AppSettingsState"/>
        <applicationService serviceImplementation="com.github.qczone.switch2cursor.actions.DynamicActionManager"/>
        <applicationConfigurable
            parentId="tools"
            instance="com.github.qczone.switch2cursor.settings.AppSettingsConfigurable"
            id="com.github.qczone.switch2cursor.settings.AppSettingsConfigurable"
            displayName="Switch2Cursor"/>
        <postStartupActivity implementation="com.github.qczone.switch2cursor.startup.DynamicActionStartupActivity"/>
    </extensions>

    <actions>
        <!-- Switch2Cursor Menu Group -->
        <group id="Switch2CursorMenuGroup" text="Switch2Cursor" description="Switch2Cursor Actions" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </group>

        <!-- Open File Actions Group -->
        <group id="Switch2CursorOpenFileGroup" text="Open File" description="Open File Actions" popup="true">
            <add-to-group group-id="Switch2CursorMenuGroup" anchor="first"/>
        </group>

        <!-- Open Project Actions Group -->
        <group id="Switch2CursorOpenProjectGroup" text="Open Project" description="Open Project Actions" popup="true">
            <add-to-group group-id="Switch2CursorMenuGroup" anchor="last"/>
        </group>

        <!-- Quick Selection Actions -->
        <action id="QuickOpenFile" class="com.github.qczone.switch2cursor.actions.QuickOpenFileAction"
            text="Quick Open File" description="Show quick selection dialog to open file in external editor">
            <add-to-group group-id="Switch2CursorMenuGroup" anchor="first"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift F"/>
        </action>

        <action id="QuickOpenProject" class="com.github.qczone.switch2cursor.actions.QuickOpenProjectAction"
            text="Quick Open Project" description="Show quick selection dialog to open project in external editor">
            <add-to-group group-id="Switch2CursorMenuGroup" anchor="after" relative-to-action="QuickOpenFile"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="first"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift P"/>
        </action>

        <!-- Note: All specific application actions are dynamically registered by DynamicActionManager -->
        <!-- based on user settings. No hardcoded actions here. -->
    </actions>

    <change-notes><![CDATA[
        <h3>1.0.3</h3>
        <ul>
            <li>âš¡ï¸ Update action update thread to background thread for better performance</li>
        </ul>

        <hr/>

        <ul>
            <li>âš¡ï¸ å°†åŠ¨ä½œæ›´æ–°çº¿ç¨‹æ”¹ä¸ºåå°çº¿ç¨‹ä»¥æå‡æ€§èƒ½</li>
        </ul>

        <h3>1.0.2</h3>
        <ul>
            <li>âš¡ï¸ Support JetBrains IDEs from version 2022.3</li>
            <li>ğŸ› Fix DirectoryChooserPopupMenu registration issue</li>
        </ul>

        <hr/>

        <ul>
            <li>âš¡ï¸ æ”¯æŒ JetBrains IDEs 2022.3 å¼€å§‹ä»¥åŠä»¥åçš„ç‰ˆæœ¬</li>
            <li>ğŸ› ä¿®å¤ DirectoryChooserPopupMenu æ³¨å†Œé—®é¢˜</li>
        </ul>
        <h3>1.0.1</h3>
        <ul>
            <li>ğŸ› Fix the issue of not being able to activate the Cursor window on Windows</li>
        </ul>

        <hr/>
        
        <ul>
            <li>ğŸ› ä¿®å¤åœ¨ Windows ä¸Šæ— æ³•æ¿€æ´» Cursor çª—å£çš„é—®é¢˜</li>
        </ul>
        
        <h3>1.0.0</h3>
        <ul>
            <li>âœ¨ Support opening files and projects in Cursor</li>
            <li>ğŸ”§ Configure Cursor executable path</li>
            <li>âŒ¨ï¸ Access via shortcuts, context menu and toolbar</li>
        </ul>

        <hr/>

        <ul>
            <li>âœ¨ æ”¯æŒåœ¨ Cursor ä¸­æ‰“å¼€æ–‡ä»¶å’Œé¡¹ç›®</li>
            <li>ğŸ”§ æ”¯æŒé…ç½® Cursor å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</li>
            <li>âŒ¨ï¸ æ”¯æŒå¿«æ·é”®ã€å³é”®èœå•å’Œå·¥å…·æ è®¿é—®</li>
        </ul>
    ]]></change-notes>
</idea-plugin>